<!DOCTYPE html>
<html lang="en">
<head>
    <title data-text="title">ğŸµ ASTEROID RADIO ğŸµ</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="/asteroid/static/asteroid.css">
  <script src="/asteroid/static/js/auth-ui.js"></script>
  <script src="/asteroid/static/js/front-page.js"></script>
</head>
<body>
  <div class="container">
    <header>
      <h1 data-text="station-name">ğŸµ ASTEROID RADIO ğŸµ</h1>
      <nav class="nav">
        <a href="/asteroid/">Home</a>
        <a href="/asteroid/player">Player</a>
        <a href="/asteroid/status">Status</a>
        <a href="/asteroid/profile" data-show-if-logged-in>Profile</a>
        <a href="/asteroid/admin" data-show-if-admin>Admin</a>
        <a href="/asteroid/login" data-show-if-logged-out>Login</a>
        <a href="/asteroid/register" data-show-if-logged-out>Register</a>
        <a href="/asteroid/logout" data-show-if-logged-in class="btn-logout">Logout</a>
      </nav>
    </header>

    <main>
      <div class="live-stream">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
          <h2 style="color: #00ff00; margin: 0;">ğŸŸ¢ LIVE STREAM</h2>
        </div>
        
        <!-- Stream Quality Selector -->
        <div class="live-stream-quality">
          <label for="stream-quality" ><strong>Quality:</strong></label>
          <select id="stream-quality" onchange="changeStreamQuality()">
            <option value="aac">AAC 96kbps (Recommended)</option>
            <option value="mp3">MP3 128kbps (Compatible)</option>
            <option value="low">MP3 64kbps (Low Bandwidth)</option>
          </select>
        </div>
        
        <input type="hidden" id="stream-base-url" lquery="(val stream-base-url)">
        <p><strong>Stream URL:</strong> <code id="stream-url" lquery="(text default-stream-url)"></code></p>
        <p><strong>Stream Quality:</strong> <span id="stream-format" lquery="(text default-stream-encoding-desc)"></span></p>
        <p><strong>BROADCASTING:</strong> <span id="stream-status" style="">Asteroid music for Hackers on The Station at the End of Time.</span></p>

        <div style="display: flex; gap: 10px; justify-content: end; margin-bottom: 20px;">
            <button id="popout-btn" class="btn btn-info" onclick="openPopoutPlayer()" style="font-size: 0.9em;">
                ğŸ—— Pop Out Player
            </button>
            <button id="frameset-btn" class="btn btn-secondary" onclick="enableFramesetMode()" style="font-size: 0.9em;">
                ğŸ–¼ï¸ Enable Persistent Player
            </button>
        </div>
        
        <audio id="live-audio" controls style="width: 100%; margin: 10px 0;">
          <source id="audio-source" lquery="(attr :src default-stream-url :type default-stream-encoding)">
          Your browser does not support the audio element.
        </audio>
      </div>
      
      <div id="now-playing" class="now-playing"></div>
    </main>
  </div>
</body>
</html>
