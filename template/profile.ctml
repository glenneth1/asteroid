<!DOCTYPE html>
<html lang="en">
<head>
  <title data-text="title">Asteroid Radio - User Profile</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="/asteroid/static/asteroid.css">
  <script src="/asteroid/static/js/auth-ui.js"></script>
  <script src="/asteroid/static/js/profile.js"></script>
</head>
<body>
  <div class="container">
    <h1>üë§ USER PROFILE</h1>
    <div class="nav">
      <a href="/asteroid" target="content-frame">Home</a>
      <a href="/asteroid/player" target="content-frame">Player</a>
      <a href="/asteroid/admin" target="content-frame" data-show-if-admin>Admin</a>
      <a href="/asteroid/logout" class="btn-logout">Logout</a>
    </div>

    <!-- User Profile Header -->
    <div class="admin-section">
        <h2>üéß User Profile</h2>
        <div class="profile-info">
          <div class="info-group">
            <span class="info-label">Username:</span>
            <span class="info-value" data-text="username">user</span>
          </div>
          <div class="info-group">
            <span class="info-label">Role:</span>
            <span class="info-value" data-text="user-role">listener</span>
          </div>
          <div class="info-group">
            <span class="info-label">Member Since:</span>
            <span class="info-value" data-text="join-date">2024-01-01</span>
          </div>
          <div class="info-group">
            <span class="info-label">Last Active:</span>
            <span class="info-value" data-text="last-active">Today</span>
          </div>
        </div>
      </div>

    <!-- Listening Statistics -->
    <div class="admin-section">
        <h2>üìä Listening Statistics</h2>
        <div class="admin-grid">
          <div class="status-card">
            <h3>Total Listen Time</h3>
            <p class="stat-number" data-text="total-listen-time">0h 0m</p>
          </div>
          <div class="status-card">
            <h3>Tracks Played</h3>
            <p class="stat-number" data-text="tracks-played">0</p>
          </div>
          <div class="status-card">
            <h3>Sessions</h3>
            <p class="stat-number" data-text="session-count">0</p>
          </div>
          <div class="status-card">
            <h3>Favorite Genre</h3>
            <p class="stat-text" data-text="favorite-genre">Unknown</p>
          </div>
        </div>
      </div>

    <!-- Recently Played Tracks -->
    <div class="admin-section">
        <h2>üéµ Recently Played</h2>
        <div class="tracks-list" id="recent-tracks">
          <div class="track-item">
            <div class="track-info">
              <span class="track-title" data-text="recent-track-1-title">No recent tracks</span>
              <span class="track-artist" data-text="recent-track-1-artist"></span>
            </div>
            <div class="track-meta">
              <span class="track-duration" data-text="recent-track-1-duration"></span>
              <span class="track-played-at" data-text="recent-track-1-played-at"></span>
            </div>
          </div>
          <div class="track-item">
            <div class="track-info">
              <span class="track-title" data-text="recent-track-2-title"></span>
              <span class="track-artist" data-text="recent-track-2-artist"></span>
            </div>
            <div class="track-meta">
              <span class="track-duration" data-text="recent-track-2-duration"></span>
              <span class="track-played-at" data-text="recent-track-2-played-at"></span>
            </div>
          </div>
          <div class="track-item">
            <div class="track-info">
              <span class="track-title" data-text="recent-track-3-title"></span>
              <span class="track-artist" data-text="recent-track-3-artist"></span>
            </div>
            <div class="track-meta">
              <span class="track-duration" data-text="recent-track-3-duration"></span>
              <span class="track-played-at" data-text="recent-track-3-played-at"></span>
            </div>
          </div>
        </div>
        <div class="profile-actions">
          <button class="btn btn-secondary" onclick="loadMoreRecentTracks()">Load More</button>
        </div>
      </div>

    <!-- Top Artists -->
    <div class="admin-section">
        <h2>üé§ Top Artists</h2>
        <div class="artist-stats">
          <div class="artist-item">
            <span class="artist-name" data-text="top-artist-1">Unknown Artist</span>
            <span class="artist-plays" data-text="top-artist-1-plays">0 plays</span>
          </div>
          <div class="artist-item">
            <span class="artist-name" data-text="top-artist-2"></span>
            <span class="artist-plays" data-text="top-artist-2-plays"></span>
          </div>
          <div class="artist-item">
            <span class="artist-name" data-text="top-artist-3"></span>
            <span class="artist-plays" data-text="top-artist-3-plays"></span>
          </div>
          <div class="artist-item">
            <span class="artist-name" data-text="top-artist-4"></span>
            <span class="artist-plays" data-text="top-artist-4-plays"></span>
          </div>
          <div class="artist-item">
            <span class="artist-name" data-text="top-artist-5"></span>
            <span class="artist-plays" data-text="top-artist-5-plays"></span>
          </div>
        </div>
      </div>

    <!-- Listening Activity Chart -->
    <div class="admin-section">
        <h2>üìà Listening Activity</h2>
        <div class="activity-chart">
          <p>Activity over the last 30 days</p>
          <div class="chart-placeholder">
            <div class="chart-bar" style="height: 20%" data-day="1"></div>
            <div class="chart-bar" style="height: 45%" data-day="2"></div>
            <div class="chart-bar" style="height: 30%" data-day="3"></div>
            <div class="chart-bar" style="height: 60%" data-day="4"></div>
            <div class="chart-bar" style="height: 80%" data-day="5"></div>
            <div class="chart-bar" style="height: 25%" data-day="6"></div>
            <div class="chart-bar" style="height: 40%" data-day="7"></div>
            <!-- More bars would be generated dynamically -->
          </div>
          <p class="chart-note">Listening hours per day</p>
        </div>
      </div>

    <!-- Profile Actions -->
    <div class="admin-section">
        <h2>‚öôÔ∏è Profile Settings</h2>
        <div class="profile-actions">
          <button class="btn btn-primary" onclick="editProfile()">‚úèÔ∏è Edit Profile</button>
          <button class="btn btn-secondary" onclick="exportListeningData()">üìä Export Data</button>
          <button class="btn btn-secondary" onclick="clearListeningHistory()">üóëÔ∏è Clear History</button>
        </div>
      </div>
  </div>

  <script>
    // Initialize profile page
    document.addEventListener('DOMContentLoaded', function() {
      loadProfileData();
    });
  </script>
</body>
</html>
